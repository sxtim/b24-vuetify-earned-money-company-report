# README для локальной разработки

Этот документ содержит инструкции по настройке и запуску проекта в локальном окружении с использованием Docker.

## Необходимые программы

- Docker
- Docker Compose
- Node.js и npm (необязательно, если не запускать скрипты локально)

## Структура проекта

- `/frontend`: Фронтенд-приложение на Vue.js + Vuetify.
- `/backend`: Бэкенд-сервер на Node.js + Express.
- `/dist`: Директория, в которую помещается финальная сборка для развертывания. Не используется при локальной разработке.
- `Dockerfile`: Инструкция для сборки производственного Docker-образа.
- `Dockerfile.dev`: Инструкция для сборки Docker-образа для разработки.
- `docker-compose.yml`: Файл для запуска и управления контейнерами в режиме разработки.

## Процесс разработки

Окружение для разработки полностью контейнеризировано. Вам не нужно устанавливать `node_modules` на свой компьютер. `docker-compose` запускает приложение с "горячей перезагрузкой" (hot-reloading) для фронтенда и бэкенда.

### Запуск сервера для разработки

Чтобы запустить сервер, выполните следующую команду в корне проекта:

```bash
docker-compose up --build
```

- **`--build`**: Этот флаг заставляет Docker Compose пересобрать образ, если в `Dockerfile.dev` или зависимостях (`package.json`) были изменения.
- Первый запуск может занять некоторое время. Последующие запуски будут значительно быстрее.
- Приложение будет доступно по адресам:
  - **Фронтенд (Vite)**: `http://localhost:5173`
  - **Бэкенд (Express)**: `http://localhost:3000`

### Остановка сервера для разработки

- Чтобы остановить контейнеры, нажмите `Ctrl + C` в терминале, где запущен `docker-compose`.
- Чтобы остановить и удалить контейнеры (освободить ресурсы), выполните:
  ```bash
  docker-compose down
  ```

## Сборка для загрузки в Битрикс24

Чтобы получить папку `dist` с готовыми файлами для загрузки в Битрикс24, используется Docker, что гарантирует чистоту и правильность сборки.

Выполните следующую команду в корне проекта:

```bash
npm run build:dist
```

Эта команда выполнит сборку внутри контейнера и скопирует готовую папку `dist` в корень вашего проекта. После этого вы можете заархивировать содержимое этой папки и загрузить в ваше приложение на портале Битрикс24.
